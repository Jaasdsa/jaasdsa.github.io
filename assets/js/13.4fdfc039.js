(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{341:function(t,r,e){"use strict";e.r(r);var a=e(3),i=Object(a.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"设备通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设备通信"}},[t._v("#")]),t._v(" 设备通信")]),t._v(" "),e("h2",{attrs:{id:"通讯方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通讯方式"}},[t._v("#")]),t._v(" 通讯方式")]),t._v(" "),e("ul",[e("li",[t._v("串口通信\n串行接口是一种可以将接收来自CPU的并行数据字符转换为连续的串行数据流发送出去，同时可将接收的串行数据流转换为并行的数据字符供给CPU的器件。一般完成这种功能的电路，我们称为串行接口电路。")]),t._v(" "),e("li",[t._v("以太网通信\n以太网是一种基带局域网技术，以太网通信是一种使用同轴电缆作为网络媒体，采用载波多路访问和冲突检测机制的通信方式，数据传输速率达到1Gbit/s，可满足非持续性网络数据传输的需要。")])]),t._v(" "),e("h2",{attrs:{id:"环境准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[t._v("#")]),t._v(" 环境准备")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/kepserverex.rar",target:"_blank",rel:"noopener noreferrer"}},[t._v("kepserver6.4"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/KEPServerEX-6.4.321.0%20%E7%88%86%E7%A0%B4(%E5%AE%8C%E7%BE%8E).rar",target:"_blank",rel:"noopener noreferrer"}},[t._v("kepserver6.4补丁"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/jre-8u241-windows-i586.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("jre-8u241-windows-i586"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/mqttfx-1.7.0-windows-x64.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("mqtt.fx"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.emqx.io/cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("emq"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"kepserver-modbus-rtu-serial"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kepserver-modbus-rtu-serial"}},[t._v("#")]),t._v(" KepServer Modbus RTU Serial")]),t._v(" "),e("ol",[e("li",[t._v("kepServer添加通道选择Modbus RTU Serial驱动"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu1.jpg",alt:"添加通道1"}})]),t._v(" "),e("li",[t._v("指定通道名称"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu2.jpg",alt:"添加通道2"}})]),t._v(" "),e("li",[t._v("分配通道"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu3.jpg",alt:"添加通道3"}})]),t._v(" "),e("li",[e("code",[t._v("**重要**")]),t._v("选择COM口"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu4.jpg",alt:"添加通道4"}})]),t._v(" "),e("li",[t._v("选择完成添加通道"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu6.jpg",alt:"添加通道6"}})]),t._v(" "),e("li",[t._v("添加设备"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu11.jpg",alt:"添加设备1"}})]),t._v(" "),e("li",[t._v("确定设备型号"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu12.jpg",alt:"添加设备2"}})]),t._v(" "),e("li",[e("code",[t._v("**重要**")]),t._v("确定从站ID"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu13.jpg",alt:"添加设备2"}})]),t._v(" "),e("li",[t._v("选择完成添加设备"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu14.jpg",alt:"添加设备3"}})]),t._v(" "),e("li",[e("code",[t._v("**重要**")]),t._v("根据地址表添加条目"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu15.jpg",alt:"添加条目1"}})]),t._v(" "),e("li",[t._v("验证采集结构，通信质量良好证明通信成功"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/rtu16.jpg",alt:"测试条目1"}})])]),t._v(" "),e("h2",{attrs:{id:"kepserver-iot-gateway"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kepserver-iot-gateway"}},[t._v("#")]),t._v(" KepServer IoT Gateway")]),t._v(" "),e("p",[t._v("使用KepServer IoT Gateway插件需要安装"),e("code",[t._v("32位jre")]),e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/jre-8u241-windows-i586.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("jre-8u241-windows-i586"),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[t._v("添加IoT Agent,选择MQTT Client"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot1.jpg",alt:"添加iot1"}})]),t._v(" "),e("li",[t._v("填写MQTT服务器参数信息\n我这里使用的EMQ服务器搭建的测试服务器，可以参考"),e("a",{attrs:{href:"https://www.emqx.io/cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("emq"),e("OutboundLink")],1),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot2.jpg",alt:"添加iot2"}})]),t._v(" "),e("li",[t._v("填写MQTT客户端认证信息,注意:client ID相同会踢掉前任"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot3.jpg",alt:"添加iot3"}})]),t._v(" "),e("li",[t._v("选择要转发的条目"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot4.jpg",alt:"添加iot4"}})]),t._v(" "),e("li",[t._v("转发规则"),e("br"),t._v(" "),e("ul",[e("li",[e("code",[t._v("only Data Changes")]),t._v("数据变化时上报")]),t._v(" "),e("li",[e("code",[t._v("every scan")]),t._v("每次轮询就上报"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot5.jpg",alt:"添加iot5"}})])])]),t._v(" "),e("li",[t._v("验证转发，这里采用的MQTT.fx订阅mqtt服务器数据"),e("a",{attrs:{href:"https://g.civnet.cn:8443/doc/software/raw/master/mqttfx-1.7.0-windows-x64.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("mqtt.fx"),e("OutboundLink")],1),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot6.jpg",alt:"添加iot6"}})]),t._v(" "),e("li",[t._v("控制主题,网关订阅主题实现反向控制设备"),e("br"),t._v(" "),e("img",{attrs:{src:"/img/gateway/iot7.jpg",alt:"添加iot7"}})])])])}),[],!1,null,null,null);r.default=i.exports}}]);